<?xml version="1.0" encoding="UTF-8"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://axelor.com/xml/ns/object-views
       http://axelor.com/xml/ns/object-views/object-views_5.4.xsd">
       
 <grid model="com.axelor.gst.db.Product" title="Products" name="product-grid">
                                                                                    
  <toolbar>
      <button onClick="action-product-method-to-generate-invoice" name="createInvoiceBtn" title="Create Invoice" icon="fas fa-file-invoice-dollar" />
     <!--  <button name="printBtn" icon="fa-print" title="Print" onClick="act1"/> -->  <!-- not in use right now but needed -->
  </toolbar>
     <field name="name"/>
     <field name="code"/>
     <field name="hsbn"/>
     <field name="category" form-view="product-category-form" grid-view="product-category-grid"/>
     <field name="saleprice"/>
     <field name="costprice"/>
     <field name="gstrate"/>
 </grid>      
       
  <form model="com.axelor.gst.db.Product" title="Product" name="product-form">
     <panel name="productPanel">
      <field name="image" widget="image" colSpan="8"/>
     <field name="name"/>
     <field name="code"/>
     <field name="hsbn"/>
     <field name="category" onChange="action-product-update-category-on-change"/>
     <field name="saleprice"/>
     <field name="costprice"/>
     <field name="gstrate"/>
     </panel>
 </form>
 
 
 <cards name="product-card" model="com.axelor.gst.db.Product" title="Product">
      <field name="image" widget="image" colSpan="8"/>
       <field name="name"/>
       <field name="category"/>
       <field name="saleprice"/>
       <field name="costprice"/>
       <field name="gstrate"/>
       <template>
          <![CDATA[
               <div class="span4 card-image">
                 <img  ng-src="{{$image(null, 'image')}}">
                  <strong>{{name}}</strong>
               </div>
             <div class="span8">
                <h5>Category: {{category.name}}</h5>
                <h5>Sale price: {{saleprice}}</h5>
                <h5>Cost price: {{costprice}}</h5>
                <h5>GST rate: {{gstrate}}</h5>
             </div>   
         ]]>
       </template>
 </cards>
      <action-attrs name="action-product-update-category-on-change" model="com.axelor.gst.db.ProductCategory">
          <attribute name="value" for="gstrate" expr="eval: category.gstrate"/> 
       </action-attrs>
       
       <action-method name="action-product-method-to-generate-invoice">
          <call class="com.axelor.gst.web.ProductController" method="getInvoiceForm"/>
       </action-method>
       
 </object-views>     